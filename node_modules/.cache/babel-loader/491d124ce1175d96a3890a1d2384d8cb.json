{"ast":null,"code":"var request = require(\"superagent\");\n/**\n * removeEmpty gets a dictionary and removes empty values\n * @param obj\n * @returns {*}\n */\n\n\nfunction removeEmpty(obj) {\n  for (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (!obj[key] || obj[key].length === 0) delete obj[key];\n    }\n  }\n\n  return obj;\n}\n\nfunction HTTPClient(requestHeaders, baseServer, port) {\n  // Do not need colon if port is empty\n  if (port !== '') {\n    baseServer += \":\" + port.toString();\n  }\n\n  this.address = baseServer;\n\n  this.get = async function (path, query) {\n    try {\n      return await request.get(this.address + path).set(requestHeaders).set('Accept', 'application/json').query(removeEmpty(query));\n    } catch (e) {\n      throw e;\n    }\n  };\n\n  this.post = async function (path, data) {\n    try {\n      return await request.post(this.address + path).set(requestHeaders).send(data);\n    } catch (e) {\n      throw e.response;\n    }\n  };\n\n  this.delete = async function (path, data) {\n    try {\n      return await request.delete(this.address + path).set(requestHeaders).send(data);\n    } catch (e) {\n      throw e.response;\n    }\n  };\n}\n\nmodule.exports = {\n  HTTPClient\n};","map":null,"metadata":{},"sourceType":"script"}