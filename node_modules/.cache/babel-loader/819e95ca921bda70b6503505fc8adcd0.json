{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aslalamentik/Desktop/salarysprout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/aslalamentik/Desktop/salarysprout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/aslalamentik/Desktop/salarysprout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/aslalamentik/Desktop/salarysprout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import{useEffect,useRef}from'react';import algosdk from'algosdk';import{makeStyles}from'@material-ui/core/styles';import CssBaseline from'@material-ui/core/CssBaseline';import{fbase,cheerio}from'./base';import UserProfile from'./UserProfile';import Button from'@material-ui/core/Button';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormHelperText from'@material-ui/core/FormHelperText';import Select from'@material-ui/core/Select';import Toolbar from'@material-ui/core/Toolbar';import IconButton from'@material-ui/core/IconButton';import SearchIcon from'@material-ui/icons/Search';import FormControl from'@material-ui/core/FormControl';import Paper from'@material-ui/core/Paper';import Typography from'@material-ui/core/Typography';import Grid from'@material-ui/core/Grid';import Card from'@material-ui/core/Card';import CardActionArea from'@material-ui/core/CardActionArea';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Hidden from'@material-ui/core/Hidden';import Link from'@material-ui/core/Link';import Divider from'@material-ui/core/Divider';import Container from'@material-ui/core/Container';import Markdown from'./Markdown';import TextField from'@material-ui/core/TextField';import'../css/style.css';// Tell Webpack that Button.js uses these styles\nimport{blockStatement}from'@babel/types';var db=fbase.firestore();var useStyles=makeStyles(function(theme){return{formControl:{display:'block',width:160},toolbar:{borderBottom:\"1px solid \".concat(theme.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:'space-between',overflowX:'auto'},toolbarLink:{padding:theme.spacing(1),flexShrink:0},mainFeaturedPost:{position:'relative',backgroundColor:theme.palette.grey[800],color:theme.palette.common.white,marginBottom:theme.spacing(4),backgroundImage:'url(https://unsplash.com/photos/dZxQn4VEv2M)',backgroundSize:'cover',backgroundRepeat:'no-repeat',backgroundPosition:'center'},mainFeaturedPostContent:_defineProperty({position:'relative',padding:theme.spacing(3)},theme.breakpoints.up('md'),{padding:theme.spacing(6),paddingRight:0}),mainGrid:{marginTop:theme.spacing(3)},card:{display:'flex'},button:{marginTop:theme.spacing(2)},cardDetails:{flex:1},cardMedia:{width:160},markdown:_objectSpread({},theme.typography.body2,{padding:theme.spacing(3,0)}),sidebarAboutBox:{padding:theme.spacing(2),backgroundColor:theme.palette.grey[200]},sidebarSection:{marginTop:theme.spacing(3)},footer:{backgroundColor:theme.palette.background.paper,marginTop:theme.spacing(8),padding:theme.spacing(6,0)}};});function signOut(){return _signOut.apply(this,arguments);}function _signOut(){_signOut=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:fbase.auth().signOut().then(function(){}).catch(function(error){// An error happened.\n});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _signOut.apply(this,arguments);}function createUser(_x,_x2,_x3){return _createUser.apply(this,arguments);}function _createUser(){_createUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(email,password,newUserData){var feedback;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(email,password);feedback={};_context4.next=4;return fbase.auth().createUserWithEmailAndPassword(email,password).then(function(){var keys=algosdk.generateAccount();var mnemonic=algosdk.secretKeyToMnemonic(keys.sk);newUserData.accountAddress=keys.addr;addUserToDatabase(newUserData);feedback={\"accountAddress\":keys.addr,\"privateKey\":mnemonic};}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;console.log(errorMessage);feedback={\"errorMessage\":errorMessage};});case 4:return _context4.abrupt(\"return\",feedback);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return _createUser.apply(this,arguments);}function addUserToDatabase(newUserData){var userRef=db.collection(\"users\");userRef.doc(newUserData.email.split(\".\").join(\"\")).set(newUserData);}function userSignIn(_x4,_x5){return _userSignIn.apply(this,arguments);}function _userSignIn(){_userSignIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(email,password){var feedback;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:feedback={};_context5.next=3;return fbase.auth().signInWithEmailAndPassword(email,password).then(function(){}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;console.log(errorMessage);feedback={\"errorMessage\":errorMessage};});case 3:return _context5.abrupt(\"return\",feedback);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _userSignIn.apply(this,arguments);}export default function Blog(){var classes=useStyles();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),password2=_React$useState8[0],setPassword2=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),company=_React$useState10[0],setCompany=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),yoe=_React$useState12[0],setYoe=_React$useState12[1];var _React$useState13=React.useState(''),_React$useState14=_slicedToArray(_React$useState13,2),gender=_React$useState14[0],setGender=_React$useState14[1];var _React$useState15=React.useState(''),_React$useState16=_slicedToArray(_React$useState15,2),phone=_React$useState16[0],setPhone=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),position=_React$useState18[0],setPosition=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),salary=_React$useState20[0],setSalary=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),signUpEnabled=_React$useState22[0],setSignUpEnabled=_React$useState22[1];var _React$useState23=React.useState(null),_React$useState24=_slicedToArray(_React$useState23,2),signInFeedback=_React$useState24[0],setSignInFeedback=_React$useState24[1];var _React$useState25=React.useState(null),_React$useState26=_slicedToArray(_React$useState25,2),signUpFeedback=_React$useState26[0],setSignUpFeedback=_React$useState26[1];var _React$useState27=React.useState(''),_React$useState28=_slicedToArray(_React$useState27,2),siEmail=_React$useState28[0],setSiEmail=_React$useState28[1];var _React$useState29=React.useState(''),_React$useState30=_slicedToArray(_React$useState29,2),siPassword=_React$useState30[0],setSiPassword=_React$useState30[1];var _React$useState31=React.useState(false),_React$useState32=_slicedToArray(_React$useState31,2),signInEnabled=_React$useState32[0],setSignInEnabled=_React$useState32[1];var _React$useState33=React.useState(true),_React$useState34=_slicedToArray(_React$useState33,2),signedIn=_React$useState34[0],setSignedIn=_React$useState34[1];var _React$useState35=React.useState(null),_React$useState36=_slicedToArray(_React$useState35,2),activeUser=_React$useState36[0],setActiveUser=_React$useState36[1];var mounted=useRef();useEffect(function(){isUserSignedIn();if(!mounted.current){mounted.current=true;}else{setSignUpButtonState();setSignInButtonState();}});function isUserSignedIn(){fbase.auth().onAuthStateChanged(function(user){if(user){setActiveUser(user);setSignedIn(true);}else{setSignedIn(false);}});}var setSignUpButtonState=function setSignUpButtonState(){if(!signInEnabled&&password!=''&&password==password2&&email!=''&&name!=''&&company!=''&&yoe!=''&&gender!=''&&phone!=''&&position!=''&&salary!=''){setSignUpEnabled(true);}else{setSignUpEnabled(false);}};var setSignInButtonState=function setSignInButtonState(){if(siPassword!=''&&siEmail!=''&&!signUpEnabled){setSignInEnabled(true);}else{setSignInEnabled(false);}};var createUserAndSendFeedback=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newUserData,feedbackObj,_feedbackObj$accountA,accountAddress,_feedbackObj$privateK,privateKey,_feedbackObj$errorMes,errorMessage;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newUserData={\"email\":email,\"name\":name,\"company\":company,\"yoe\":yoe,\"gender\":gender,\"phone\":phone,\"position\":position,\"salary\":salary,\"onchain\":false};_context.next=3;return createUser(email,password,newUserData);case 3:feedbackObj=_context.sent;console.log(feedbackObj);_feedbackObj$accountA=feedbackObj.accountAddress,accountAddress=_feedbackObj$accountA===void 0?'':_feedbackObj$accountA,_feedbackObj$privateK=feedbackObj.privateKey,privateKey=_feedbackObj$privateK===void 0?'':_feedbackObj$privateK,_feedbackObj$errorMes=feedbackObj.errorMessage,errorMessage=_feedbackObj$errorMes===void 0?null:_feedbackObj$errorMes;if(errorMessage){setSignUpFeedback(React.createElement(React.Fragment,null,React.createElement(\"span\",{className:\"negativeFeedback\"},errorMessage)));}else{setSignUpFeedback(React.createElement(\"span\",{className:\"positiveFeedback\"},\"Success! Your account address is \",accountAddress,\". Please copy and save this mnemonic phrase as this is the last time you will have access to it. You will need it to sign transactions in the future : \\xA0\",privateKey));setSignUpEnabled(false);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function createUserAndSendFeedback(){return _ref.apply(this,arguments);};}();var signInUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userSignedIn,_userSignedIn$errorMe,errorMessage;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return userSignIn(siEmail,siPassword);case 2:userSignedIn=_context2.sent;_userSignedIn$errorMe=userSignedIn.errorMessage,errorMessage=_userSignedIn$errorMe===void 0?null:_userSignedIn$errorMe;if(errorMessage){setSignInFeedback(React.createElement(React.Fragment,null,React.createElement(\"span\",{className:\"negativeFeedback\"},errorMessage)));}else{setSignInFeedback(null);}if(signUpFeedback&&userSignedIn){window.location.reload();}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function signInUser(){return _ref2.apply(this,arguments);};}();return React.createElement(React.Fragment,null,React.createElement(CssBaseline,null),React.createElement(Container,{maxWidth:\"lg\"},React.createElement(\"div\",{className:\"app-logo\"},\"salarysprout\",React.createElement(\"i\",{className:\"fas fa-leaf\"})),signedIn==true&&React.createElement(\"div\",{className:\"signoutButton\"},React.createElement(\"i\",{className:\"fas fa-sign-out\",onClick:function onClick(){signOut();}})),React.createElement(\"main\",null,React.createElement(Paper,{className:classes.mainFeaturedPost},React.createElement(\"img\",{style:{display:'none'},src:\"https://unsplash.com/photos/dZxQn4VEv2M\",alt:\"background\"}),React.createElement(\"div\",null),React.createElement(Grid,{container:true,className:\"app-intro\"},React.createElement(Grid,null,React.createElement(\"div\",{className:\"app-slogan\"})))),!signedIn||signUpFeedback?React.createElement(React.Fragment,null,React.createElement(Grid,{container:true,spacing:4},React.createElement(React.Fragment,null,React.createElement(Grid,{item:true,key:\"signUp\",xs:12,md:6},React.createElement(Card,{className:classes.card},React.createElement(\"div\",{className:classes.cardDetails},React.createElement(\"div\",{className:\"app-box\"},React.createElement(\"div\",{className:\"app-box-title\"},\"Sign Up\"),React.createElement(\"div\",{className:\"app-box-blurb\"},\"When you sign up for an account, an account address and a private key in the form of a mnemonic phrase will be generated for you. Please keep your private key safe and sound as we do not store it anywhere, and this will be the only time that you will see it. \"),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"E-mail\",onChange:function onChange(event){setEmail(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"Name\",onChange:function onChange(event){setName(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{id:\"filled-password-input\",label:\"Password (min 6 characters)\",onChange:function onChange(event){setPassword(event.target.value);},className:classes.textField,type:\"password\",autoComplete:\"current-password\",margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{id:\"filled-password-input\",label:\"Confirm Password (min 6 characters)\",className:classes.textField,onChange:function onChange(event){setPassword2(event.target.value);},type:\"password\",autoComplete:\"current-password\",margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"Phone Number\",onChange:function onChange(event){setPhone(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"Company\",onChange:function onChange(event){setCompany(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"Position\",onChange:function onChange(event){setPosition(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"Gender\",onChange:function onChange(event){setGender(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",onChange:function onChange(event){setYoe(event.target.value);},label:\"Years of Experience\",className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"Salary ($/year)\",onChange:function onChange(event){setSalary(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(Button,_defineProperty({className:\"app-button\",onClick:function onClick(){createUserAndSendFeedback();},variant:\"contained\",disabled:!signUpEnabled,color:\"primary\"},\"className\",classes.button),\" Sign up\"),signUpFeedback?React.createElement(\"div\",{className:\"app-box-blurb signUp-feedback\"},signUpFeedback):null)),React.createElement(Hidden,{xsDown:true},React.createElement(CardMedia,{className:classes.cardMedia,image:\"https://unsplash.com/photos/dZxQn4VEv2M\",title:\"Image title\"})))),!signedIn||signUpFeedback?React.createElement(React.Fragment,null,React.createElement(Grid,{item:true,key:\"signIn\",xs:12,md:6},React.createElement(Card,{className:classes.card},React.createElement(\"div\",{className:classes.cardDetails},React.createElement(\"div\",{className:\"app-box\"},React.createElement(\"div\",{className:\"app-box-title\"},\"Sign In\"),React.createElement(TextField,{required:true,id:\"outlined-required\",label:\"E-mail\",onChange:function onChange(event){setSiEmail(event.target.value);},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),React.createElement(TextField,{id:\"filled-password-input\",label:\"Password\",onChange:function onChange(event){setSiPassword(event.target.value);},className:classes.textField,type:\"password\",autoComplete:\"current-password\",margin:\"normal\",variant:\"outlined\"}),React.createElement(Button,_defineProperty({className:\"app-button\",disabled:!signInEnabled&&!signUpFeedback,onClick:function onClick(){signInUser();},variant:\"contained\",color:\"primary\"},\"className\",classes.button),\"Sign in\"),signInFeedback?React.createElement(\"div\",{className:\"app-box-blurb signUp-feedback\"},signInFeedback):null)),React.createElement(Hidden,{xsDown:true},React.createElement(CardMedia,{className:classes.cardMedia,image:\"https://unsplash.com/photos/dZxQn4VEv2M\",title:\"Image title\"}))))):null))):activeUser&&React.createElement(UserProfile,{classes:classes,db:db,cheerio:cheerio,user:activeUser}))),React.createElement(\"footer\",{className:classes.footer},React.createElement(Container,{maxWidth:\"lg\"},React.createElement(Typography,{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",component:\"p\"},\"Built by Anastasia, Angelina, Arfa and Sam at Technica 2019 \\uD83D\\uDE80\"))));}","map":{"version":3,"sources":["/Users/aslalamentik/Desktop/salarysprout/src/components/Blog.js"],"names":["React","useEffect","useRef","algosdk","makeStyles","CssBaseline","fbase","cheerio","UserProfile","Button","InputLabel","MenuItem","FormHelperText","Select","Toolbar","IconButton","SearchIcon","FormControl","Paper","Typography","Grid","Card","CardActionArea","CardContent","CardMedia","Hidden","Link","Divider","Container","Markdown","TextField","blockStatement","db","firestore","useStyles","theme","formControl","display","width","toolbar","borderBottom","palette","divider","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","toolbarLink","padding","spacing","flexShrink","mainFeaturedPost","position","backgroundColor","grey","color","common","white","marginBottom","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","mainFeaturedPostContent","breakpoints","up","paddingRight","mainGrid","marginTop","card","button","cardDetails","cardMedia","markdown","typography","body2","sidebarAboutBox","sidebarSection","footer","background","paper","signOut","auth","then","catch","error","createUser","email","password","newUserData","console","log","feedback","createUserWithEmailAndPassword","keys","generateAccount","mnemonic","secretKeyToMnemonic","sk","accountAddress","addr","addUserToDatabase","errorCode","code","errorMessage","message","userRef","collection","doc","split","join","set","userSignIn","signInWithEmailAndPassword","Blog","classes","useState","setEmail","name","setName","setPassword","password2","setPassword2","company","setCompany","yoe","setYoe","gender","setGender","phone","setPhone","setPosition","salary","setSalary","signUpEnabled","setSignUpEnabled","signInFeedback","setSignInFeedback","signUpFeedback","setSignUpFeedback","siEmail","setSiEmail","siPassword","setSiPassword","signInEnabled","setSignInEnabled","signedIn","setSignedIn","activeUser","setActiveUser","mounted","isUserSignedIn","current","setSignUpButtonState","setSignInButtonState","onAuthStateChanged","user","createUserAndSendFeedback","feedbackObj","privateKey","signInUser","userSignedIn","window","location","reload","event","target","value","textField"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useEffect, useRef} from 'react';\nimport algosdk from 'algosdk';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { fbase, cheerio } from './base';\nimport UserProfile from './UserProfile';\nimport Button from '@material-ui/core/Button';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Select from '@material-ui/core/Select';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport FormControl from '@material-ui/core/FormControl';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Hidden from '@material-ui/core/Hidden';\nimport Link from '@material-ui/core/Link';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport Markdown from './Markdown';\nimport TextField from '@material-ui/core/TextField';\nimport '../css/style.css'; // Tell Webpack that Button.js uses these styles\nimport { blockStatement } from '@babel/types';\n\nconst db = fbase.firestore();\nconst useStyles = makeStyles(theme => ({\n  formControl : {\n    display: 'block',\n    width: 160\n  },\n  toolbar: {\n    borderBottom: `1px solid ${theme.palette.divider}`,\n  },\n  toolbarTitle: {\n    flex: 1,\n  },\n  toolbarSecondary: {\n    justifyContent: 'space-between',\n    overflowX: 'auto',\n  },\n  toolbarLink: {\n    padding: theme.spacing(1),\n    flexShrink: 0,\n  },\n  mainFeaturedPost: {\n    position: 'relative',\n    backgroundColor: theme.palette.grey[800],\n    color: theme.palette.common.white,\n    marginBottom: theme.spacing(4),\n    backgroundImage: 'url(https://unsplash.com/photos/dZxQn4VEv2M)',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n  },\n  mainFeaturedPostContent: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    [theme.breakpoints.up('md')]: {\n      padding: theme.spacing(6),\n      paddingRight: 0,\n    },\n  },\n  mainGrid: {\n    marginTop: theme.spacing(3),\n  },\n  card: {\n    display: 'flex',\n  },\n  button: {\n    marginTop: theme.spacing(2),\n  },\n  cardDetails: {\n    flex: 1,\n  },\n  cardMedia: {\n    width: 160,\n  },\n  markdown: {\n    ...theme.typography.body2,\n    padding: theme.spacing(3, 0),\n  },\n  sidebarAboutBox: {\n    padding: theme.spacing(2),\n    backgroundColor: theme.palette.grey[200],\n  },\n  sidebarSection: {\n    marginTop: theme.spacing(3),\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(6, 0),\n  },\n}));\n\nasync function signOut() {\n    fbase.auth().signOut().then(function() {\n        \n      }).catch(function(error) {\n        // An error happened.\n      });\n}\n\nasync function createUser(email, password, newUserData) {\n    console.log(email, password);\n    let feedback = {};\n    await fbase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n        var keys = algosdk.generateAccount();\n        var mnemonic = algosdk.secretKeyToMnemonic(keys.sk);\n        newUserData.accountAddress = keys.addr;\n        addUserToDatabase(newUserData);\n        feedback = {\"accountAddress\": keys.addr, \"privateKey\": mnemonic};\n    }).catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        console.log(errorMessage);\n        feedback = {\"errorMessage\" : errorMessage};\n      });\n    return feedback;\n}\n\nfunction addUserToDatabase(newUserData) {\n    const userRef = db.collection(\"users\");  \n    userRef.doc((newUserData.email).split(\".\").join(\"\")).set(newUserData);\n}\n\nasync function userSignIn(email, password) {\n    let feedback = {};\n    await fbase.auth().signInWithEmailAndPassword(email, password).then(()=> {\n    }).catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        console.log(errorMessage);\n        feedback = {\"errorMessage\" : errorMessage};\n      });\n    return feedback;\n}\n\nexport default function Blog() {\n  const classes = useStyles();\n  const [email, setEmail] = React.useState('');\n  const [name, setName] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [password2, setPassword2] = React.useState('');\n  const [company, setCompany] = React.useState('');\n  const [yoe, setYoe] = React.useState('');\n  const [gender, setGender] = React.useState('');\n  const [phone, setPhone] = React.useState('');\n  const [position, setPosition] = React.useState('');\n  const [salary, setSalary] = React.useState('');\n  const [signUpEnabled, setSignUpEnabled] = React.useState(false);\n\n  const [signInFeedback, setSignInFeedback] = React.useState(null);\n  const [signUpFeedback, setSignUpFeedback] = React.useState(null);\n\n  const [siEmail, setSiEmail] = React.useState('');\n  const [siPassword, setSiPassword] = React.useState('');\n  const [signInEnabled, setSignInEnabled] = React.useState(false);\n\n  const [signedIn, setSignedIn] = React.useState(true);\n\n  const [activeUser, setActiveUser] = React.useState(null);\n\n  const mounted = useRef();\n    useEffect(() => {\n        isUserSignedIn();\n        if (!mounted.current) {\n            mounted.current = true;\n        } else {\n            setSignUpButtonState();\n            setSignInButtonState();  \n        }\n    });\n\n\nfunction isUserSignedIn(){\n    fbase.auth().onAuthStateChanged(function(user) {\n        if (user) {\n         setActiveUser(user);\n         setSignedIn(true);\n        } else {\n          setSignedIn(false);\n        }\n      });\n}\n\n  const setSignUpButtonState = () => {\n    if (!signInEnabled && password != '' && password == password2 && email != '' && name != '' && company != ''\n    && yoe != '' && gender != '' && phone != '' && position != '' && salary != '') {\n        setSignUpEnabled(true);\n    } else {\n        setSignUpEnabled(false);\n    }\n  };\n\n  const setSignInButtonState = () => {\n    if (siPassword != '' && siEmail != '' && !signUpEnabled) {\n        setSignInEnabled(true);\n    } else {\n        setSignInEnabled(false);\n    }\n  };\n\n  const createUserAndSendFeedback = async () => {\n    const newUserData = {\n        \"email\" : email,\n        \"name\" : name,\n        \"company\" : company,\n        \"yoe\" : yoe,\n        \"gender\" : gender,\n        \"phone\" : phone,\n        \"position\" : position,\n        \"salary\": salary,\n        \"onchain\": false\n    }\n    const feedbackObj = await createUser(email, password, newUserData);\n    console.log(feedbackObj);\n    const {accountAddress ='', privateKey = '', errorMessage = null} = feedbackObj;\n    if (errorMessage) {\n        setSignUpFeedback(<><span className='negativeFeedback'>{errorMessage}</span></>);\n    } else {\n        setSignUpFeedback(<span className='positiveFeedback'>Success! Your account address is {accountAddress}. Please copy and save this mnemonic phrase as this is the last time you will have access to it. You will need it to sign transactions in the future :\n            &nbsp;{privateKey}</span>);\n        setSignUpEnabled(false);\n    }\n  }\n\n  const signInUser = async() => {\n      const userSignedIn = await userSignIn(siEmail, siPassword);\n      const { errorMessage = null } = userSignedIn;\n      if (errorMessage) {\n        setSignInFeedback(<><span className='negativeFeedback'>{errorMessage}</span></>);\n      } else {\n        setSignInFeedback(null);\n      }\n      if (signUpFeedback && userSignedIn) {\n          window.location.reload();\n      }\n  }\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <Container maxWidth=\"lg\">\n          <div className=\"app-logo\">\n            salarysprout<i className=\"fas fa-leaf\"></i>\n          </div>\n          {signedIn == true && <div className='signoutButton'><i className='fas fa-sign-out' onClick={()=>{signOut()}}></i></div>}\n        <main>\n          {/* Main featured post */}\n          <Paper className={classes.mainFeaturedPost}>\n            {/* Increase the priority of the hero background image */}\n            {\n              <img\n                style={{ display: 'none' }}\n                src=\"https://unsplash.com/photos/dZxQn4VEv2M\"\n                alt=\"background\"\n              />\n            }\n            <div />\n            <Grid container className=\"app-intro\">\n              <Grid >\n                <div className='app-slogan'>\n                </div>\n              </Grid>\n            </Grid>\n          </Paper>\n          {/* End main featured post */}\n          {/* Sub featured posts */}\n          { (!signedIn || signUpFeedback) ? <><Grid container spacing={4}>\n              <><Grid item key=\"signUp\" xs={12} md={6}>\n                  <Card className={classes.card}>\n                    <div className={classes.cardDetails}>\n                        <div className=\"app-box\">\n                            <div className='app-box-title'>Sign Up</div>\n                            <div className='app-box-blurb'>When you sign up for an account, an account \n                            address and a private key in the form of a mnemonic phrase will be generated for you. Please keep your private key\n                            safe and sound as we do not store it anywhere, and \n                            this will be the only time that you will see it. </div>\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"E-mail\"\n                            onChange={(event) => {\n                                setEmail(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"Name\"\n                            onChange={(event) => {\n                                setName(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            id=\"filled-password-input\"\n                            label=\"Password (min 6 characters)\"\n                            onChange={(event) => {\n                                setPassword(event.target.value);\n                            }}\n                            className={classes.textField}\n                            type=\"password\"\n                            autoComplete=\"current-password\"\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />  \n                        <TextField\n                            id=\"filled-password-input\"\n                            label=\"Confirm Password (min 6 characters)\"\n                            className={classes.textField}\n                            onChange={(event) => {\n                                setPassword2(event.target.value);\n                            }}\n                            type=\"password\"\n                            autoComplete=\"current-password\"\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />  \n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"Phone Number\"\n                            onChange={(event) => {\n                                setPhone(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"Company\"\n                            onChange={(event) => {\n                                setCompany(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"Position\"\n                            onChange={(event) => {\n                                setPosition(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"Gender\"\n                            onChange={(event) => {\n                                setGender(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            onChange={(event) => {\n                                setYoe(event.target.value);\n                            }}\n                            label=\"Years of Experience\"\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"Salary ($/year)\"\n                            onChange={(event) => {\n                                setSalary(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                            <Button className='app-button' onClick={() => {\n                                                                createUserAndSendFeedback()\n                                                            }\n                                                        }  variant=\"contained\" disabled={!signUpEnabled} color=\"primary\" className={classes.button}> Sign up</Button>\n                            {signUpFeedback ?\n                            <div className={`app-box-blurb signUp-feedback`}>{signUpFeedback}</div> : null}\n                            </div>\n                    </div>\n                    <Hidden xsDown>\n                      <CardMedia\n                        className={classes.cardMedia}\n                        image=\"https://unsplash.com/photos/dZxQn4VEv2M\"\n                        title=\"Image title\"\n                      />\n                    </Hidden>\n                  </Card>\n              </Grid>\n              {!signedIn || signUpFeedback ? <><Grid item key=\"signIn\" xs={12} md={6}>\n                  <Card className={classes.card}>\n                    <div className={classes.cardDetails}>\n                        <div className=\"app-box\">\n                            <div className='app-box-title'>Sign In</div>\n                        <TextField\n                            required\n                            id=\"outlined-required\"\n                            label=\"E-mail\"\n                            onChange={(event) => {\n                                setSiEmail(event.target.value);\n                            }}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />\n                        <TextField\n                            id=\"filled-password-input\"\n                            label=\"Password\"\n                            onChange={(event) => {\n                                setSiPassword(event.target.value);\n                            }}\n                            className={classes.textField}\n                            type=\"password\"\n                            autoComplete=\"current-password\"\n                            margin=\"normal\"\n                            variant=\"outlined\"\n                            />  \n                        <Button className='app-button' disabled={!signInEnabled && !signUpFeedback} \n                                                        onClick={() => {\n                                                            signInUser();\n                                                            }\n                                                        } \n                                                        variant=\"contained\" \n                                                        color=\"primary\" className={classes.button}>Sign in</Button>\n                        {signInFeedback ?\n                            <div className={`app-box-blurb signUp-feedback`}>{signInFeedback}</div> : null}\n                        </div>\n                    </div>\n                    <Hidden xsDown>\n                      <CardMedia\n                        className={classes.cardMedia}\n                        image=\"https://unsplash.com/photos/dZxQn4VEv2M\"\n                        title=\"Image title\"\n                      />\n                    </Hidden>\n                  </Card>\n                                                    </Grid></> : null}</>\n          </Grid></> : (activeUser && <UserProfile classes={classes} db={db} cheerio={cheerio} user={activeUser}></UserProfile>) }\n          {/* End sub featured posts */}\n        </main>\n      </Container>\n      {/* Footer */}\n      <footer className={classes.footer}>\n        <Container maxWidth=\"lg\">\n          <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\n            Built by Anastasia, Angelina, Arfa and Sam at Technica 2019 \n          </Typography>\n        </Container>\n      </footer>\n      {/* End footer */}\n    </React.Fragment>\n  );\n}"]},"metadata":{},"sourceType":"module"}